# ============================================================================
# Linux.do 自动刷帖 Docker 部署
# ============================================================================
#
# 使用方法：
#   1. 复制 .env.example 为 .env，填入账号密码
#   2. docker-compose up -d
#   3. docker-compose logs -f  查看日志
#
# 飞牛NAS部署：
#   1. 将 docker 文件夹上传到 NAS
#   2. SSH 进入 NAS，cd 到 docker 目录
#   3. 修改 .env 文件
#   4. docker-compose up -d
#
# ============================================================================

services:
  linuxdo:
    build: .
    container_name: linuxdo-bot
    restart: unless-stopped
    env_file: .env
    volumes:
      # 持久化浏览器数据（保持登录状态，避免重复登录）
      - chrome-data:/app/chrome-data
    environment:
      - TZ=Asia/Shanghai
    # 限制资源（NAS友好）
    deploy:
      resources:
        limits:
          memory: 1G
          cpus: '1.0'

volumes:
  chrome-data:
